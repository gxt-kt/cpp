# ç¬¬ä¸ƒèŠ‚è¯¾

#### å¸¸ç”¨ç¤ºä¾‹ï¼šä½¿ç”¨ostreamå’Œè¿ç®—ç¬¦é‡è½½ << è¾“å‡ºç±»ä¸­å†…å®¹

æ­£å¸¸æƒ…å†µä¸‹ï¼Œä½ ç›´æ¥ä½¿ç”¨ `cout << obj1 << endl;`æ˜¯ä¸è¡Œçš„ï¼Œå› ä¸ºç¼–è¯‘å™¨ä¸çŸ¥é“æ€ä¹ˆè¾“å‡ºä½ è¿™ä¸ªè‡ªå®šä¹‰ç±»å‹çš„å¯¹è±¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿ç®—ç¬¦é‡è½½é‡è½½`<<`è¿ç®—ç¬¦ï¼Œå®šä¹‰è¾“å‡ºè¡Œä¸º

ç¤ºä¾‹ï¼š

```cpp
std::ostream& operator<<(std::ostream& os, const MyClass& obj) {
    // å®šä¹‰è¾“å‡ºæµè¿ç®—çš„è¡Œä¸º
    os << obj.val << endl;
    return os;
}
```

è¿™æ ·æˆ‘ä»¬å†ä½¿ç”¨` cout << obj1 << endl; `å°±ä¼šè¾“å‡ºobj1ä¸­çš„valå€¼äº†

>å¦‚æœæˆ‘ä»¬<font color='red'>**æŠŠè¿”å›å€¼çš„å¼•ç”¨å»æ‰**</font>ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ
>
>å¦‚æœæˆ‘ä»¬æ„é€ ä¸€ä¸ªç±»ï¼Œæ˜¾ç¤ºçš„åˆ é™¤æ‰å®ƒçš„deleteå‡½æ•°ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ

***

#### ä¸€äº›è¿ç®—ç¬¦ä¸èƒ½è¢«é‡è½½(ä¹Ÿå°±æ˜¯ä¸€äº›é¢å¤–è§„åˆ™ï¼Œæ··ä¸ªçœ¼ç†Ÿè®°ä½å°±è¡Œï¼Œå®é™…æ²¡å•¥å¤§ç”¨)

1. æˆå‘˜è®¿é—®è¿ç®—ç¬¦ï¼š
   - `.`ï¼šç”¨äºè®¿é—®ç±»çš„æˆå‘˜ã€‚
2. èŒƒå›´è§£æè¿ç®—ç¬¦ï¼š
   - `::`ï¼šç”¨äºåœ¨ç±»ã€å‘½åç©ºé—´æˆ–æšä¸¾ç±»å‹ä¸­è®¿é—®æˆå‘˜æˆ–å¸¸é‡ã€‚
3. æ¡ä»¶è¿ç®—ç¬¦ï¼š
   - `?:`ï¼šä¸‰å…ƒæ¡ä»¶è¿ç®—ç¬¦ï¼Œç”¨äºæ ¹æ®æ¡ä»¶é€‰æ‹©ä¸åŒçš„å€¼ã€‚
4. `sizeof` è¿ç®—ç¬¦ï¼š
   - `sizeof`ï¼šç”¨äºè·å–å¯¹è±¡ã€ç±»å‹æˆ–è¡¨è¾¾å¼çš„å¤§å°ã€‚
5. æˆå‘˜é€‰æ‹©è¿ç®—ç¬¦ï¼š
   - `.*`ï¼šæŒ‡å‘æˆå‘˜çš„æŒ‡é’ˆæ“ä½œç¬¦ã€‚

é‡è½½è¿ç®—ç¬¦`()`ã€`[]`ã€`->`ã€æˆ–è€…èµ‹å€¼è¿ç®—ç¬¦`=`æ—¶ï¼Œåªèƒ½å°†å®ƒä»¬é‡è½½ä¸ºæˆå‘˜å‡½æ•°ï¼Œä¸èƒ½é‡è½½ä¸ºå…¨å±€å‡½æ•°ã€‚



#### é‡è½½é€’å¢è¿ç®—ç¬¦++

åœ¨ C++ ä¸­ï¼Œé€’å¢è¿ç®—ç¬¦ `++` å¯ä»¥é€šè¿‡è¿ç®—ç¬¦é‡è½½è¿›è¡Œè‡ªå®šä¹‰è¡Œä¸ºã€‚

é€’å¢è¿ç®—ç¬¦æœ‰ä¸¤ç§å½¢å¼ï¼šå‰ç¼€é€’å¢å’Œåç¼€é€’å¢ã€‚

- å‰ç¼€é€’å¢è¿ç®—ç¬¦ `++` è¿”å›é€’å¢åçš„å€¼ï¼Œå¹¶ä¸”åœ¨è‡ªèº«ä¸Šå¢åŠ ã€‚
- åç¼€é€’å¢è¿ç®—ç¬¦ `++` ä¹Ÿè¿”å›é€’å¢å‰çš„å€¼ï¼Œä½†æ˜¯åœ¨è‡ªèº«ä¸Šå¢åŠ ã€‚

**é‡è½½ç¤ºä¾‹ï¼š**

```cpp
#include <iostream>

class MyNumber {
private:
    int value;
public:
    MyNumber(int val) : value(val) {}
    // å‰ç¼€é€’å¢è¿ç®—ç¬¦é‡è½½
    MyNumber& operator++() {
        ++value;
        return *this;
    }
    // åç¼€é€’å¢è¿ç®—ç¬¦é‡è½½
    MyNumber operator++(int) {
        MyNumber temp(value);
        ++value;
        return temp;
    }
    int getValue() const {
        return value;
    }
};

int main() {
    MyNumber num(5);
    // å‰ç¼€é€’å¢è¿ç®—ç¬¦ç¤ºä¾‹
    ++num;
    std::cout << "After prefix increment: " << num.getValue() << std::endl;
    // åç¼€é€’å¢è¿ç®—ç¬¦ç¤ºä¾‹
    MyNumber oldNum = num++;
    std::cout << "After postfix increment: " << num.getValue() << std::endl;
    std::cout << "Old value: " << oldNum.getValue() << std::endl;
    return 0;
}
```

>  ğŸ’¡è¿™é‡Œå‰ç¼€é€’å¢å’Œåç¼€é€’å¢æ˜¯æœ‰åŒºåˆ«çš„ï¼š
>
>  1. åœ¨åç¼€é€’å¢è¿ç®—ç¬¦çš„é‡è½½å‡½æ•°ä¸­ï¼Œæ·»åŠ å‚æ•° `int` æ˜¯ä¸ºäº†åŒºåˆ†å‰ç¼€é€’å¢å’Œåç¼€é€’å¢è¿ç®—ç¬¦çš„é‡è½½å‡½æ•°ã€‚åç¼€é€’å¢è¿ç®—ç¬¦ `++` åœ¨è¢«é‡è½½æ—¶ï¼Œå®ƒçš„é‡è½½å‡½æ•°éœ€è¦æ¥å—ä¸€ä¸ªé¢å¤–çš„å‚æ•°ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªæœªä½¿ç”¨çš„æ•´æ•°å‚æ•°ã€‚è¿™ä¸ªå‚æ•°åœ¨é‡è½½å‡½æ•°ä¸­æ²¡æœ‰å®é™…çš„ä½œç”¨ï¼Œåªæ˜¯ä¸ºäº†ä¸å‰ç¼€é€’å¢è¿ç®—ç¬¦çš„é‡è½½å‡½æ•°è¿›è¡ŒåŒºåˆ†ã€‚å½“ä½ ä½¿ç”¨åç¼€é€’å¢è¿ç®—ç¬¦æ—¶ï¼Œä¾‹å¦‚ `num++`ï¼Œç¼–è¯‘å™¨ä¼šå¯»æ‰¾ä¸€ä¸ªå¸¦æœ‰ `int` å‚æ•°çš„åç¼€é€’å¢è¿ç®—ç¬¦é‡è½½å‡½æ•°æ¥è°ƒç”¨ã€‚è¿™ä¸ªå‚æ•°è¢«ç”¨ä½œå ä½ç¬¦ï¼Œä»¥ä¾¿ä¸å‰ç¼€é€’å¢è¿ç®—ç¬¦çš„é‡è½½å‡½æ•°è¿›è¡ŒåŒºåˆ†ã€‚
>
>  2. å®ç°æ—¶ï¼Œåç¼€é€’å‡ä¼šåˆ›å»ºä¸€ä¸ªä¸´æ—¶å€¼ä¿å­˜è‡ªå¢ä¹‹å‰çš„çŠ¶æ€ï¼Œç„¶åè‡ªå¢åè¿”å›çš„æ˜¯ä¹‹å‰çš„çŠ¶æ€
>
>    è€Œå‰ç¼€è‡ªå¢ä¸ä¼šåˆ›å»ºä¸´æ—¶å˜é‡<font color='blue'>**ï¼ˆå…³äºå‰ç¼€è‡ªå¢å’Œåç¼€è‡ªå¢çš„åŒºåˆ«ä¹‹å‰æœ‰è®²è¿‡ï¼Œä¸çŸ¥é“ä½ è¿˜è®°ä¸è®°å¾—ï¼‰**</font>



## è¿”å›å€¼ä¼˜åŒ–ï¼ˆR-returnV-valueO-optimizeï¼‰<font color='red'>**ï¼ˆéš¾ï¼Œå°½å¯èƒ½ç†è§£ï¼‰**</font>

å‡å¦‚ä½ å†™äº†ä¸€ä¸ªå‡½æ•°å¦‚ä¸‹ï¼Œè¿™ä¸ªå‡½æ•°æ„é€ äº†ä¸€ä¸ªä¸´æ—¶å¯¹è±¡ï¼Œå¹¶è¿”å›äº†å®ƒ

```cpp
MyClass GenerateMyClass() {
  MyClass temp;
  return temp;
}
```

å†ä½¿ç”¨`MyClass obj1=GenerateMyClass();`å»æ¥ä½è¿™ä¸ªå¯¹è±¡

æ­£å¸¸æ¥è¯´ï¼Œè¿™ä¸ªå‡½æ•°æ‰§è¡Œå®Œï¼Œä¼šæŠŠè¿™ä¸ªä¸´æ—¶å¯¹è±¡æ‹·è´ç»™obj1ï¼Œç„¶åå†ææ„æ‰ã€‚

ä½†æ˜¯**c++ç¼–è¯‘å™¨è®¤ä¸ºè¿™é‡Œæ²¡æœ‰å¿…è¦å¤šæ­¤ä¸€ä¸¾ï¼Œåæ­£tempéƒ½å·²ç»æ˜¯ä¸´æ—¶çš„ï¼Œæ²¡å¿…è¦å†æ–°åˆ›ä¸€ä¸ªï¼Œè¿˜å¾—æ‹·è´å¤ªéº»çƒ¦äº†ï¼Œç›´æ¥æŠŠtempç»™åˆ°obj1ä¸å¥½å—ã€‚**

æ‰€ä»¥ä¸Šé¢é‚£ä¸ªè¡Œä¸ºå°±æ˜¯è¿”å›å€¼ä¼˜åŒ–ã€‚

çœ‹çœ‹è¿™æ®µä»£ç è¾“å‡ºç»“æœï¼š

```cpp
class MyClass {
public:
  MyClass() {
    cout << "construct" << endl;
  };
  MyClass(MyClass &&) {
    cout << "&& construct" << endl;
  }
  // MyClass(const MyClass &) = default;
  MyClass(const MyClass &) {
    cout << "const MyClass &" << endl;;
  }
  MyClass &operator=(MyClass &&) {
    cout << "= &&" << endl;
    return *this;
  }
  MyClass &operator=(const MyClass &) {
    cout << "= const MyClass &" << endl;
    return *this;
  }
  ~MyClass() {
    cout << "deconstruct" << endl;
  };
};

MyClass GenerateMyClass() {
  MyClass temp;
  return temp;
}

int main() {
  MyClass obj1=GenerateMyClass();
}
```

**è¾“å‡ºç»“æœï¼š**

```plaintext
construct
deconstruct
```

è¿™é‡Œåªå‘ç”Ÿäº†ä¸€æ¬¡æ„é€ å’Œææ„ï¼Œè¯´æ˜ä»å¤´åˆ°ä½åªå­˜åœ¨äº†ä¸€ä¸ªå¯¹è±¡

***



å¦‚æœæˆ‘ä»¬æŠŠè¿”å›å€¼ä¼˜åŒ–å…³æ‰å‘¢ï¼Ÿ

> å…³é—­è¿”å›å€¼ä¼˜åŒ–çš„æ–¹æ³•ï¼šcmakeæ˜¯æ·»å…¥CMAKE_CXX_FLAGSæ ‡å¿—
>
> ```cmake
> set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -fno-elide-constructors")
> set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fno-elide-constructors")
> ```



å…³é—­åå†çœ‹ä¸€ä¸‹è¾“å‡ºç»“æœï¼š

```plaintext
construct
&& construct
deconstruct
deconstruct
```

***

## é¢˜ç›®ï¼šä½¿ç”¨ä½ ç°åœ¨æ‰€å­¦è¿‡çš„å†…å®¹ï¼Œä½¿ç”¨c++å†™ä¸€ä¸ªMyStringç±»ï¼Œè¿™ä¸ªç±»éœ€è¦å¯ä»¥å®ç°std::string å¤§éƒ¨åˆ†çš„åŠŸèƒ½

1. å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²è¿›è¡Œåˆå§‹åŒ– `MyString str="hello world";`
2. å¯ä»¥è·å–å½“å‰å­—ç¬¦ä¸²çš„é•¿åº¦ `int size=str.size()`
3. å¯ä»¥ä½¿ç”¨`[]`è¿›è¡Œç´¢å¼•ï¼Œè·å–å¯¹åº”ä¸‹æ ‡çš„å­—ç¬¦ `char c=str[2]`ï¼Œéœ€è¦é¢å¤–åŠ åˆ¤æ–­ï¼Œå¦‚æœç´¢å¼•å¤§å°è¶…å‡ºäº†å­—ç¬¦ä¸²é•¿åº¦ï¼Œæ‰“å°æŠ¥é”™å¹¶ç»ˆæ­¢ç¨‹åº
4. å¯ä»¥è®©ä¸¤ä¸ªå¯¹è±¡ç›¸åŠ ï¼Œå¾—åˆ°çš„ç»“æœæ˜¯è®©ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸åŠ ã€‚

æç¤ºï¼š

1. <font color='red'>ä¸å…è®¸ä½¿ç”¨ä»»ä½•std::stringçš„ä¸œè¥¿ï¼Œæ‰€æœ‰éƒ½è¦è‡ªå·±å®ç°</font>ï¼Œäº‹å®ä¸Šï¼Œstd::stringè¿™ä¸ªç±»ä¹Ÿæ˜¯æˆ‘ä»¬ä¸€ç‚¹ç‚¹å†™å‡ºæ¥çš„
2. ä¸€äº›ä½¿ç”¨åˆ°çš„åŠŸèƒ½å’Œå†…å®¹ï¼š
   - newå’Œdeleteå’Œnullptrçš„ä½¿ç”¨
   - è¿ç®—ç¬¦é‡è½½
   - ç±»çš„æ„é€ å‡½æ•°ï¼Œæ‹·è´æ„é€ å‡½æ•°ï¼Œæ‹·è´èµ‹å€¼å‡½æ•°ï¼Œææ„å‡½æ•°
   - **std::strlen** è·å–å­—ç¬¦ä¸²çš„é•¿åº¦
   - **std::strcpy** æŠŠä¸€ä¸ªå­—ç¬¦ä¸²èµ‹å€¼åˆ°å¦ä¸€ä¸ªä¸Šå»
   - **std::strcat** æŠŠä¸€ä¸ªå­—ç¬¦ä¸²æ·»åŠ åˆ°å¦ä¸ªå­—ç¬¦ä¸²å°¾éƒ¨

### ç­”æ¡ˆï¼š

```cpp
class MyString {
 private:
  char* data;
  int length;

 public:
  MyString() : data(nullptr), length(0) {}

  MyString(const char* str) {
    if (str) {
      length = std::strlen(str);
      data = new char[length + 1];
      std::strcpy(data, str);
    } else {
      data = nullptr;
      length = 0;
    }
  }

  MyString(const MyString& other) : data(nullptr), length(other.length) {
    if (other.data) {
      data = new char[length + 1];
      std::strcpy(data, other.data);
    }
  }

  // Destructor
  ~MyString() { delete[] data; }

  // Member functions
  int size() const { return length; }

  char& operator[](int index) {
    if (index < length) {
      return data[index];
    }
    cout << "ERROR: out of ranger";
    std::terminate();
  }

  // Assignment operator
  MyString& operator=(const MyString& other) {
    if (this != &other) {
      delete[] data;
      length = other.length;
      if (other.data) {
        data = new char[length + 1];
        std::strcpy(data, other.data);
      } else {
        data = nullptr;
      }
    }
    return *this;
  }

  // Overloaded + operator
  MyString operator+(const MyString& other) const {
    MyString newString;
    newString.length = length + other.length;
    newString.data = new char[newString.length + 1];

    std::strcpy(newString.data, data);
    std::strcat(newString.data, other.data);

    return newString;
  }

  // Overloaded + operator string
  MyString operator+(const char* str) const {
    MyString newString;
    newString.length = length + std::strlen(str);
    newString.data = new char[newString.length + 1];

    std::strcpy(newString.data, data);
    std::strcat(newString.data, str);

    return newString;
  }

  // Other member functions
  // void append(const MyString& other) {
  //   int newLength = length + other.length;
  //   char* newData = new char[newLength + 1];

  //   std::strcpy(newData, data);
  //   std::strcat(newData, other.data);

  //   delete[] data;
  //   data = newData;
  //   length = newLength;
  // }

  // expose the data pointer
  const char* c_str() const { return data ? data : ""; }
};

// Overload stream for cout debug
std::ostream& operator<<(std::ostream& os, const MyString& str) {
  os << str.c_str();
  return os;
}

```

### æµ‹è¯•ä»£ç 

```cpp

int main() {
  MyString str1 = "Hello";
  MyString str2("World");
  MyString str3 = str1;

  gDebug(str1);
  gDebug(str1.size());
  gDebug(str2);
  gDebug(str2.size());
  gDebug(str3);
  gDebug(str3.size());

  gDebug(str1[0]);
  gDebug(str1[1]);
  str1[0]='s';
  gDebug(str1);

  gDebug(str1+" "+str2);

  gDebug(std::strlen("123"));


  return 0;
}
```

**å‡ºç°çš„å†…å®¹è§£æï¼š**

1. æ„é€ å‡½æ•°æ€»å…±æœ‰ä¸‰ä¸ªï¼š
   - è¾“å…¥ä¸ºç©º
   - è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²
   - æ‹·è´æ„é€ å‡½æ•°è¾“å…¥ä¸€ä¸ªåŒæ ·çš„ç±»
2. ææ„å‡½æ•°æ³¨æ„è¦deleteæ‰newå‡ºæ¥çš„æ•°ç»„ï¼Œæ³¨æ„æ•°ç»„éœ€è¦ä½¿ç”¨`delete []`
3. æ‹·è´èµ‹å€¼æ¶‰åŠåˆ°æ·±æ‹·è´æµ…æ‹·è´é—®é¢˜ï¼Œæœ‰ç‚¹éš¾åº¦ï¼Œä½†å¯¹ä½ æ¥è¯´åº”è¯¥é—®é¢˜ä¸å¤§
4. ç´¢å¼•ä½¿ç”¨è¿ç®—ç¬¦é‡è½½[]
5. æ”¯æŒä¸¤ä¸ªå¯¹è±¡ç›¸åŠ å’Œä¸€ä¸ªå¯¹è±¡åŠ ä¸Šå­—ç¬¦ä¸²ä¹Ÿéƒ½æ˜¯ä½¿ç”¨çš„è¿ç®—ç¬¦é‡è½½
6. ä¸ºäº†å¯ä»¥coutæ‰“å°è¿™ä¸ªç±»ï¼Œè¿ç®—ç¬¦é‡è½½<<
7. ææ„å‡½æ•°éœ€è¦deleteæ‰newå‡ºæ¥çš„æ•°ç»„ï¼Œå¦åˆ™ä¼šå‘ç”Ÿå†…å­˜æ³„æ¼

### é¢å¤–çš„å°é¢˜ç›®ï¼šè‡ªå·±å®ç°ä¸€ä¸‹ std::strcpy å’Œstd::strcatå‡½æ•°

***

## ç±»çš„staticé™æ€æˆå‘˜å˜é‡ï¼Œé™æ€æˆå‘˜å‡½æ•°

å½“æˆ‘ä»¬å£°æ˜ä¸€ä¸ªç±»çš„é™æ€æˆå‘˜å˜é‡å’Œé™æ€æˆå‘˜å‡½æ•°æ—¶ï¼Œå®ƒä»¬ä¸ç±»çš„å®ä¾‹æ— å…³ï¼Œè€Œæ˜¯å±äºæ•´ä¸ªç±»æœ¬èº«ã€‚è¿™æ„å‘³ç€æ— è®ºåˆ›å»ºå¤šå°‘ä¸ªç±»çš„å¯¹è±¡ï¼Œé™æ€æˆå‘˜å˜é‡å’Œå‡½æ•°éƒ½åªæœ‰ä¸€ä»½æ‹·è´ã€‚é™æ€æˆå‘˜å˜é‡åœ¨æ‰€æœ‰å®ä¾‹ä¹‹é—´å…±äº«ï¼Œè€Œé™æ€æˆå‘˜å‡½æ•°æ²¡æœ‰thisæŒ‡é’ˆï¼Œå› æ­¤ä¸èƒ½ç›´æ¥è®¿é—®ç±»çš„éé™æ€æˆå‘˜ã€‚

```cpp
#include <iostream>

class MyClass {
public:
    // é™æ€æˆå‘˜å˜é‡ï¼Œæ‰€æœ‰å¯¹è±¡å…±äº«ä¸€ä»½æ‹·è´
    static int staticVar;

    // é™æ€æˆå‘˜å‡½æ•°ï¼Œåªèƒ½è®¿é—®é™æ€æˆå‘˜å˜é‡å’Œå…¶ä»–é™æ€æˆå‘˜å‡½æ•°
    static void staticFunction() {
        std::cout << "This is a static member function." << std::endl;
        std::cout << "Static variable value: " << staticVar << std::endl;
    }

    // æ™®é€šæˆå‘˜å‡½æ•°ï¼Œéƒ½å¯ä»¥è®¿é—®
    void regularFunction() {
        std::cout << "This is a regular member function." << std::endl;
        std::cout << "Static variable value: " << staticVar << std::endl;
        std::cout << "Non-static member variable value: " << nonStaticVar << std::endl;
    }

private:
    // éé™æ€æˆå‘˜å˜é‡
    int nonStaticVar = 42;
};

// åˆå§‹åŒ–é™æ€æˆå‘˜å˜é‡ï¼Œéœ€è¦åœ¨ç±»å¤–è¿›è¡Œ
int MyClass::staticVar = 10;

int main() {
    // é™æ€æˆå‘˜å˜é‡å¯ä»¥é€šè¿‡ç±»åè®¿é—®
    std::cout << "Initial static variable value: " << MyClass::staticVar << std::endl;

    // åˆ›å»ºå¯¹è±¡å¹¶è°ƒç”¨æ™®é€šæˆå‘˜å‡½æ•°
    MyClass obj1;
    obj1.regularFunction();

    // åˆ›å»ºå¦ä¸€ä¸ªå¯¹è±¡å¹¶è°ƒç”¨æ™®é€šæˆå‘˜å‡½æ•°
    MyClass obj2;
    obj2.regularFunction();

    // è°ƒç”¨é™æ€æˆå‘˜å‡½æ•°
    MyClass::staticFunction();

    // ä¿®æ”¹é™æ€æˆå‘˜å˜é‡çš„å€¼
    MyClass::staticVar = 20;
    std::cout << "Updated static variable value: " << MyClass::staticVar << std::endl;

    // é™æ€æˆå‘˜å˜é‡åœ¨æ‰€æœ‰å¯¹è±¡ä¹‹é—´å…±äº«ï¼Œå› æ­¤ä¸¤ä¸ªå¯¹è±¡çš„é™æ€æˆå‘˜å˜é‡å€¼æ˜¯ç›¸åŒçš„
    std::cout << "Static variable value in obj1: " << obj1.staticVar << std::endl;
    std::cout << "Static variable value in obj2: " << obj2.staticVar << std::endl;

    return 0;
}
```

ğŸ¤”ï¼šæ³¨é‡ç†è§£ï¼Œæ€è€ƒä¸¤ä¸ªé—®é¢˜ï¼š

1. **ä¸ºä»€ä¹ˆé™æ€æˆå‘˜å˜é‡éœ€è¦ç±»å¤–åˆå§‹åŒ–ï¼Ÿ**
2. **ä¸ºä»€ä¹ˆé™æ€æˆå‘˜å‡½æ•°ä¸èƒ½è®¿é—®éé™æ€æˆå‘˜å˜é‡çš„å€¼ï¼Ÿ**

äº‹å®ä¸Šï¼Œè¿™ä¸¤ä¸ªé—®é¢˜éƒ½å¯ä»¥ç”¨åŒä¸€å¥—ç†è®ºå»ç†è§£ï¼Œ**é™æ€æˆå‘˜å˜é‡çš„å­˜åœ¨ä¸å’Œä½ æ˜¯å¦å®ä¾‹åŒ–å¯¹è±¡ç›¸å…³ï¼Œå®ƒä»ä¸€å¼€å§‹å°±æ˜¯å­˜åœ¨çš„ï¼Œåœ¨å†…å­˜ä¸­ä¹Ÿåªè¦ä¸€ä»½ï¼Œä¸€ä¸ªåœ°å€ã€‚**

æ€è€ƒä¸€ä¸‹ï¼Œå¦‚æœä½ æ²¡æœ‰å®ä¾‹åŒ–ä»»ä½•å¯¹è±¡ï¼Œä½†ä»ç„¶å¯ä»¥è°ƒç”¨é™æ€æˆå‘˜å‡½æ•°ï¼Œè¿™æ—¶å€™å¦‚æœè¯´ä½ èƒ½è®¿é—®éé™æ€æˆå‘˜å˜é‡ï¼Œä½ è®¿é—®çš„åˆæ˜¯å“ªä¸ªå¯¹è±¡å‘¢ï¼Ÿç¼–è¯‘å™¨ä¹Ÿä¸çŸ¥é“ï¼Ÿæ‰€ä»¥å°±ç›´æ¥æ²¡æœ‰è¿™ç§æ–¹æ³•ã€‚

**æ•´ä½“æ¥çœ‹ï¼Œç±»é‡Œçš„é™æ€æˆå‘˜æ›´åƒæ˜¯å°è£…åˆ°ç±»ä¸­ï¼Œå’Œè¿™ä¸ªç±»å¹¶æ²¡æœ‰ç›´æ¥è”ç³»ã€‚ï¼ˆè¿™æ—¶å€™çš„ç±»å€’æœ‰ç‚¹namespaceçš„æ„Ÿè§‰äº†ï¼‰**

***

ğŸ¤” å¯ä»¥å°è¯•ä¸Šè°·æ­Œæœç´¢ä¸€ä¸‹ï¼šç±»å†…å¸¸é‡æˆå‘˜å˜é‡åˆå§‹åŒ–çš„é—®é¢˜ï¼Œå¤§éƒ¨åˆ†å°†çš„éƒ½æ˜¯é”™çš„ï¼ˆè¿‡æ—¶çš„ï¼‰ï¼Œåœ¨c++11ä¹‹åï¼Œå·²ç»æ”¯æŒconstå˜é‡å†…éƒ¨å®šä¹‰åˆå§‹åŒ–





***

## MyString

```cpp
int StrLen(const char* str) {
  int res=0; // result
  for(int i=0;str[i]!='\0';i++) {
      res++;
  }
  return res;
}

void StrCpy(char* dest,const char* src) {
  if(StrLen(dest)<StrLen(src)) {
    std::cout << "ERROR : space is too small" << std::endl;
    return;
  }
  int i=0;
  for(;i<StrLen(src);i++) {
    dest[i]=src[i];
  }
  dest[i]='\0';
}


class MyString {
 private:
  int length;
  char* data;

 public:
  MyString() {
    data = nullptr;
    length = 0;
  }
  MyString(const char* str) {
    if (str == "") {
      length = 0;
      data = nullptr;
    } else {
      length = std::strlen(str);
      data = new char[length + 1];
      std::strcpy(data, str);
    }
  }
  MyString(const MyString& obj) {
    this->length = obj.length;
    if (length != 0) {
      data = new char[length + 1];
      std::strcpy(data, obj.data);
    } else {
      data = nullptr;
    }
  }
  ~MyString() {
    if (data != nullptr) {
      delete[] data;
    }
  }
  MyString& operator=(const MyString& obj) {
    length = obj.length;
    if (data != obj.data) {
      if (data != nullptr) {
        delete[] data;
      }
      data = new char[length + 1];
      std::strcpy(data, obj.data);
    }
    return *this;
  }
  char& operator[](int i) {
    if (i >= length) {
      std::cout << "ERROR : out of range" << std::endl;
      std::terminate();
    }
    return data[i];
  }
  MyString operator+(const char* str) {
    MyString temp;
    temp.length = this->length + strlen(str);
    temp.data = new char[length + 1];
    std::strcpy(temp.data, this->data);
    std::strcat(temp.data, str);
    return temp;
  }
  MyString operator+(const MyString& obj) {
    MyString temp;
    temp.length = this->length + obj.length;
    temp.data = new char[length + 1];
    std::strcpy(temp.data, this->data);
    std::strcat(temp.data, obj.data);
    return temp;
  }
  int size() const { return length; }
  const char* c_str() const { return data; }
};

// std::cout
std::ostream& operator<<(std::ostream& os, const MyString& obj) {
  os << obj.c_str();
  return os;
}


int main() {
  MyString str1 = "hello";  // 1000 ge 1
  MyString str2("world");
  MyString str3 = str2;
  //
  // gDebug() << str1.c_str();
  // gDebug() << str2.c_str();
  // gDebug() << str3.c_str();
  std::cout << str1 << std::endl;
  std::cout << str2 << std::endl;
  std::cout << str3 << std::endl;

  std::cout << str1[2] << std::endl;
  str1[0] = 'a';
  std::cout << str1 << std::endl;
  str1[0] = 'h';
  std::cout << (str1 + " world" + " " + str1) << std::endl;

  std::cout << "=============" << std::endl;
  str3 = str1;
  std::cout << str1 << std::endl;
  std::cout << str3 << std::endl;
  str1[0] = 'a';
  std::cout << str1 << std::endl;
  std::cout << str3 << std::endl;

  str1 = str2 = str3;
  std::cout << str1 << std::endl;

  std::cout << "=============" << std::endl;

  // auto sss=str1+"123";
  auto sss=str1.operator+("123");
  std::cout << sss << std::endl;

}

```

