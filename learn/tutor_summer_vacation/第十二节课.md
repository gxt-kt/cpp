# åäºŒèŠ‚è¯¾

## å¤šæ€ä½¿ç”¨

**å…³äºå¤šæ€æˆ–è€…è™šå‡½æ•°ï¼Œæ›´å¤šæ˜¯åº”ç”¨å’Œè§„åˆ™ï¼Œç§¯ç´¯äº†ç»éªŒå¯èƒ½æ‰ä¼šç»å¸¸å†™åˆ°è¿™ç§ä»£ç ï¼Œæš‚æ—¶ä¹Ÿä¸éœ€è¦å…¨éƒ¨è®°ä½ï¼Œä½†æ˜¯éœ€è¦çŸ¥é“æœ‰è¿™ä¹ˆä¸ªä¸œè¥¿ï¼Œå¦åˆ™ä¸‹æ¬¡å†™ä»£ç çš„æ—¶å€™å®¹æ˜“çœ‹ä¸æ‡‚æŠ¥é”™ï¼Œç¼–è¯‘ä¸è¿‡ä¹Ÿå¯èƒ½ä¸çŸ¥é“ä¸ºå•¥**



>**éœ€æ±‚ï¼š**
>
>å‡è®¾æˆ‘ä»¬æ­£åœ¨å¼€å‘ä¸€ä¸ªå›¾å½¢ç»˜åˆ¶åº”ç”¨ç¨‹åºï¼Œå…¶ä¸­åŒ…å«å„ç§å½¢çŠ¶ï¼Œå¦‚åœ†å½¢ã€çŸ©å½¢ã€ä¸‰è§’å½¢ç­‰ã€‚æˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿç»˜åˆ¶ä¸åŒå½¢çŠ¶çš„å›¾å½¢ï¼Œå¹¶è®¡ç®—å®ƒä»¬çš„é¢ç§¯ã€‚è¿™é‡Œå°±å¯ä»¥ä½¿ç”¨å¤šæ€æ€§æ¥ç®€åŒ–ä»£ç å¹¶æé«˜å¯æ‰©å±•æ€§ã€‚
>
>**è®¾è®¡åŸåˆ™ï¼š**
>
>1. **ç»Ÿä¸€çš„æ¥å£**ï¼šé€šè¿‡åŸºç±»çš„è™šå‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸åŒçš„æ´¾ç”Ÿç±»å¯¹è±¡è§†ä¸ºåŸºç±»å¯¹è±¡ï¼Œä»¥ä¸€ç§ç»Ÿä¸€çš„æ–¹å¼å¤„ç†å®ƒä»¬ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸ä¿®æ”¹ç°æœ‰ä»£ç çš„æƒ…å†µä¸‹ï¼Œè½»æ¾åœ°æ·»åŠ æ–°çš„æ´¾ç”Ÿç±»ã€‚
>2. **å¯æ‰©å±•æ€§**ï¼šå½“æˆ‘ä»¬éœ€è¦æ·»åŠ æ–°çš„å½¢çŠ¶ç±»æ—¶ï¼Œåªéœ€æ´¾ç”Ÿè‡ªåŸºç±»å¹¶é‡å†™ç›¸åº”çš„è™šå‡½æ•°å³å¯ã€‚è¿™ç§å¯æ‰©å±•æ€§ä½¿å¾—æˆ‘ä»¬çš„ä»£ç æ›´å…·å¼¹æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚
>
>**ç¤ºä¾‹ï¼š**
>
>åœ¨è¿™é‡Œï¼Œæˆ‘å¸Œæœ›å‡½æ•°å†…ä¼šæ ¹æ®ä¼ å…¥çš„ç±»å‹è‡ªåŠ¨è°ƒç”¨å¯¹åº”ç±»å‹çš„å‡½æ•°
>
>```cpp
>struct Shape {
>  virtual double CaculateArea(){return 0;};
>};
>
>struct Circle : public Shape {
>  double r;
>  Circle(double r_) { r = r_; }
>  double CaculateArea() { return M_PI * r * r; }
>};
>struct Rectangle : public Shape {
>  double w;
>  double h;
>  Rectangle(double w_,double h_):w(w_),h(h_) {}
>  double CaculateArea() { return  w * h; }
>};
>
>template <typename T>
>void Fun(T a) {
>  gDebug(a.CaculateArea());
>}
>
>void Fun1(Shape& shape) {
>  gDebug(shape.CaculateArea());
>}
>void Fun1(Shape* shape) {
>  gDebug(shape->CaculateArea());
>}
>
>int main() {
>  Circle circle(1);
>  Rectangle rectangle(1,2);
>  Fun(circle);
>  Fun(rectangle);
>  Fun1(circle);
>  Fun1(rectangle);
>  Fun1(&circle);
>  Fun1(&rectangle);
>  gDebug(circle.CaculateArea());
>  gDebug(rectangle.CaculateArea());
>}
>```

é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªåŸºç±»`Shape`ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªè™šå‡½æ•°`calculateArea()`ç”¨äºè®¡ç®—å›¾å½¢çš„é¢ç§¯ã€‚

```cpp
class Shape {  
public:  
    virtual double calculateArea() {  
        return 0.0; // åŸºç±»çš„é»˜è®¤å®ç°ï¼Œé¢ç§¯ä¸º0  
    }  
};  
```

ç„¶åï¼Œæˆ‘ä»¬æ´¾ç”Ÿå‡ºå…·ä½“çš„å½¢çŠ¶ç±»ï¼Œå¦‚**``Circle``**ï¼ˆåœ†å½¢ï¼‰å’Œ**``Rectangle``**ï¼ˆçŸ©å½¢ï¼‰ï¼Œå¹¶åœ¨æ´¾ç”Ÿç±»ä¸­é‡å†™**``calculateArea()``**å‡½æ•°ã€‚

```cpp
class Circle : public Shape {  
private:  
    double radius;  
public:  
    Circle(double r) : radius(r) {}  
    double calculateArea() override {  
        return 3.14159 * radius * radius;
    }  
};  
  
class Rectangle : public Shape {  
private:  
    double width;  
    double height;  
public:  
    Rectangle(double w, double h) : width(w), height(h) {}  
    double calculateArea() override {  
        return width * height;
    }  
}; 


int main() {  
    Shape* shape1 = new Circle(5.0);  
    Shape* shape2 = new Rectangle(4.0, 6.0);  
  
    double area1 = shape1->calculateArea(); // è°ƒç”¨æ´¾ç”Ÿç±» Circle çš„ calculateArea() å‡½æ•°  
    double area2 = shape2->calculateArea(); // è°ƒç”¨æ´¾ç”Ÿç±» Rectangle çš„ calculateArea() å‡½æ•°  
  
    delete shape1;  
    delete shape2;  
  
    return 0;  
}  
```

***

**é¢å‘å¯¹è±¡3å¤§æ¦‚å¿µï¼š**

- å°è£…ï¼šçªç ´äº†Cè¯­è¨€å‡½æ•°çš„æ¦‚å¿µï¼Œcè¯­è¨€åªæœ‰structå¯ä»¥å¯¹ç±»å‹è¿›è¡Œèšåˆï¼Œc++ struct/classå¯ä»¥åŒ…å«ç±»å‹å’Œå‡½æ•°
- ç»§æ‰¿ï¼šä»£ç å¤ç”¨ï¼Œæ¯”å¦‚å­ç±»å¯ä»¥ç”¨çˆ¶ç±»çš„å‡½æ•°
- <font color='red'>**å¤šæ€ï¼šè®¾å®šå¥½æ¡†æ¶åï¼Œä»¥åå¯ä»¥éšæ—¶åŠ å…¥æ–°çš„ä»£ç ï¼Œè€Œä¸éœ€è¦æ”¹åŠ¨ä¹‹å‰çš„ä»£ç ï¼ˆæ›´åƒæ˜¯ä¸€ç§æ€æƒ³å’Œæ¡†æ¶ï¼‰**</font>
  - C++ä¸­é€šè¿‡virtualå…³é”®å­—å¯¹å¤šæ€è¿›è¡Œæ”¯æŒ
  - ä½¿ç”¨virtualå£°æ˜çš„å‡½æ•°è¢«é‡å†™åå³å¯å±•ç°å¤šæ€ç‰¹æ€§

***

**å¤šæ€çš„ä¸‰ä¸ªæ¡ä»¶ï¼š**

1. æœ‰ç»§æ‰¿
2. æœ‰å‡½æ•°é‡å†™ï¼ˆvirtualï¼‰
3. æœ‰æŒ‡é’ˆæˆ–è€…å¼•ç”¨ï¼ˆå·¦å€¼å¼•ç”¨å’ŒæŒ‡é’ˆæ˜¯å·®ä¸å¤šçš„ï¼‰

***

### `override`å…³é”®å­—

overrideå…³é”®å­—ç¡®ä¿åœ¨æ´¾ç”Ÿç±»ä¸­å£°æ˜çš„é‡å†™å‡½æ•°ä¸åŸºç±»çš„è™šå‡½æ•°æœ‰ç›¸åŒçš„ç­¾åï¼ŒåŒæ—¶ä¹Ÿæ˜ç¡®è¡¨æ˜å°†ä¼šé‡å†™åŸºç±»çš„è™šå‡½æ•°ï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯é‡å†™çš„è™šå‡½æ•°çš„æ­£ç¡®æ€§ï¼Œä¹Ÿæé«˜äº†ä»£ç çš„å¯è¯»æ€§ã€‚

**ï¼ˆå•çº¯åšä¸€ä¸‹å¢å¼ºè€Œå·²ï¼ŒåŠ å¼ºå¯è¯»æ€§ï¼Œæ˜ç¡®çš„è¡¨ç¤ºè¿™ä¸€ä¸ªå‡½æ•°ä¸€å®šæ˜¯é‡å†™çš„å‡½æ•°ï¼‰**

***

## çº¯è™šå‡½æ•°

çº¯è™šå‡½æ•°æ²¡æœ‰å‡½æ•°ä½“ï¼Œåªæœ‰å‡½æ•°å£°æ˜ï¼Œåœ¨è™šå‡½æ•°å£°æ˜çš„ç»“å°¾åŠ ä¸Š`=0`ï¼Œè¡¨æ˜æ­¤å‡½æ•°ä¸ºçº¯è™šå‡½æ•°ã€‚

> ä¾‹å¦‚ï¼š  `virtual double CaculateArea()=0;`

**åŒ…å«çº¯è™šå‡½æ•°çš„ç±»ç§°ä¸ºæŠ½è±¡ç±»ï¼ˆAbstract Classï¼‰**ã€‚ä¹‹æ‰€ä»¥è¯´å®ƒæŠ½è±¡ï¼Œæ˜¯å› ä¸ºå®ƒæ— æ³•å®ä¾‹åŒ–ï¼Œä¹Ÿå°±æ˜¯æ— æ³•åˆ›å»ºå¯¹è±¡ã€‚åŸå› å¾ˆæ˜æ˜¾ï¼Œçº¯è™šå‡½æ•°æ²¡æœ‰å‡½æ•°ä½“ï¼Œä¸æ˜¯å®Œæ•´çš„å‡½æ•°ï¼Œæ— æ³•è°ƒç”¨ï¼Œä¹Ÿæ— æ³•ä¸ºå…¶åˆ†é…å†…å­˜ç©ºé—´ã€‚

**çº¯è™šå‡½æ•°å‡ºç°çš„æ„ä¹‰å°±æ˜¯è®©ä½ å»ç»™å®ƒç»§æ‰¿çš„ï¼Œå¹¶ä¸”å£°æ˜æˆçº¯è™šå‡½æ•°ä¸€å®šè¦åœ¨å­ç±»ä¸­é‡å†™ã€‚**



***

## å‡½æ•°æŒ‡é’ˆ

å½“æˆ‘ä»¬éœ€è¦åœ¨ç¨‹åºä¸­åŠ¨æ€åœ°ä¼ é€’å‡½æ•°ä½œä¸ºå‚æ•°ã€å­˜å‚¨å‡½æ•°çš„åœ°å€æˆ–è€…è°ƒç”¨ä¸åŒçš„å‡½æ•°æ—¶ï¼Œå‡½æ•°æŒ‡é’ˆå°±æ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„å·¥å…·ã€‚C++ä¸­çš„å‡½æ•°æŒ‡é’ˆå…è®¸æˆ‘ä»¬å£°æ˜æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆå˜é‡ï¼Œå¹¶ä½¿ç”¨å®ƒä»¬æ¥è°ƒç”¨ç›¸åº”çš„å‡½æ•°ã€‚

- å‡½æ•°æŒ‡é’ˆæ˜¯æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆå˜é‡ã€‚

- é€šå¸¸æˆ‘ä»¬è¯´çš„æŒ‡é’ˆå˜é‡æ˜¯æŒ‡å‘ä¸€ä¸ªæ•´å‹ã€å­—ç¬¦å‹æˆ–æ•°ç»„ç­‰å˜é‡ï¼Œè€Œå‡½æ•°æŒ‡é’ˆæ˜¯æŒ‡å‘å‡½æ•°ã€‚

- å‡½æ•°æŒ‡é’ˆå¯ä»¥åƒä¸€èˆ¬å‡½æ•°ä¸€æ ·ï¼Œç”¨äºè°ƒç”¨å‡½æ•°ã€ä¼ é€’å‚æ•°ã€‚

```cpp
// å£°æ˜å‡½æ•°æŒ‡é’ˆç±»å‹
typedef int (*MathFunction)(int, int);
using MathFunction = int (*)(int, int);

int add(int a, int b) { return a + b; }

int subtract(int a, int b) { return a - b; }

int multiply(int a, int b) { return a * b; }

void Fun(MathFunction fun, int a, int b) { gDebug(fun(a, b)); }

int main() {
  Fun(add, 10, 20);
  Fun(subtract, 10, 20);
  Fun(multiply, 10, 20);
}
```

åœ¨è¿™é‡Œæˆ‘ä»¬å°±æ˜¯æŠŠå‡½æ•°æŒ‡é’ˆä¼ å…¥å‡½æ•°ï¼Œå…·ä½“æ€ä¹ˆè°ƒç”¨ï¼Œå°±æ˜¯çœ‹ä½ æ˜¯ä¼ å…¥ä»€ä¹ˆå‡½æ•°

<font color='red'>**å…³äºå‡½æ•°æŒ‡é’ˆçš„ç†è§£ï¼šå…¶å®å°±æƒ³å®ƒä¹Ÿæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œåªä¸è¿‡æŒ‡å‘äº†ä¸€ä¸ªå‡½æ•°ï¼Œä¼ å‚æ—¶å°±å½“æˆæ™®é€šå‚æ•°å‚æ•°ä¼ ï¼Œåªä¸è¿‡ç±»å‹ç‰¹æ®Šä¸€ç‚¹è€Œå·²**</font>

***

### ä½œä¸šï¼ˆæœ‰ç‚¹å°éš¾åº¦ï¼Œä½†æ˜¯åº”è¯¥å¯¹ä½ æ•´ä½“çš„ç¼–ç èƒ½åŠ›æå‡å¾ˆå¤§ï¼Œç”¨åˆ°å¾ˆå¤šä¸œè¥¿ï¼Œä½†è‚¯å®šéƒ½æ˜¯ä½ å·²ç»å­¦è¿‡çš„ï¼‰

> **ç¼–å†™ä¸€ä¸ªå†’æ³¡æ’åºï¼š**
>
> 1. æ”¯æŒä¼ å…¥å‚æ•°æ˜¯int/float/double ï¼ˆç®€å•ï¼‰
> 2. æ”¯æŒä¼ å…¥è‡ªå®šä¹‰ç±»å‹ï¼Œè‡³äºå¯¹ä»€ä¹ˆè¿›è¡Œæ’åºï¼Œå¯ä»¥è‡ªå·±æŒ‡å®šï¼Œç”¨åˆ°å‡½æ•°æŒ‡é’ˆ/æ¨¡æ¿ï¼Œï¼ˆéš¾ï¼‰
>
> **æç¤ºï¼š**
>
> è‡ªå®šä¹‰ç±»å‹æ¯”å¦‚ï¼š`è¦èƒ½å¤Ÿå¯¹ageæ’åºï¼Œscoreæ’åºï¼Œstd::stringæ’åºï¼Œç»™å®šä¸€ä¸ªæ¥å£ï¼Œèƒ½åŒæ—¶é€‰æ‹©å¯¹ä¸‰ä¸ªä¸­çš„ä¸€ä¸ªæ’åº`
>
> ```cpp
> struct Student {
>   std::string name = "";
>   int age = 0;
>   int score = 60;
>   friend std::ostream& operator<<(std::ostream& os,Student student) {
>     gDebug().NoNewLine() << student.name << ":" << student.age << ":" << student.score;
>     return os;
>   }
> };
> ```
>
> **å†’æ³¡æ’åºç¤ºä¾‹ï¼š**
>
> ```cpp
> template <typename T>
> void BubbleSort(std::vector<T>& vals) {
>   int i, j;
>   int lens = vals.size();
>   for (i = 0; i < lens - 1; i++)
>     for (j = 0; j < lens - 1 - i; j++)
>       if (vals[j] > vals[j + 1]) std::swap(vals[j], vals[j + 1]);
> }
> ```

**ç­”æ¡ˆï¼š**

```cpp
struct Student {
  std::string name = "";
  int age = 0;
  int score = 60;
  friend std::ostream& operator<<(std::ostream& os,Student student) {
    gDebug().NoNewLine() << student.name << ":" << student.age << ":" << student.score;
    return os;
  }
};
template <typename T>
void BubbleSort(std::vector<T>& vals, int (*GetVal_)(T)) {
  int i, j;
  int lens = vals.size();
  for (i = 0; i < lens - 1; i++) {
    for (j = 0; j < lens - 1 - i; j++) {
      if (GetVal_(vals[j]) > GetVal_(vals[j + 1])) {
        std::swap(vals[j], vals[j + 1]);
      }
    }
  }
}
template <typename T,typename F>
void BubbleSort(std::vector<T>& vals,F f) {
  int i, j;
  int lens = vals.size();
  for (i = 0; i < lens - 1; i++) {
    for (j = 0; j < lens - 1 - i; j++) {
      if (f(vals[j]) > f(vals[j + 1])) {
        std::swap(vals[j], vals[j + 1]);
      }
    }
  }
}

int GetVal(Student student) {
  return student.age;
}

int main() {
  std::vector<Student> students;
  students.emplace_back(Student{"zhangsan", 18, 80});
  students.emplace_back(Student{"lisi", 17, 90});
  students.emplace_back(Student{"wangwu", 19, 70});

  BubbleSort(students,GetVal);

  for(const auto& student:students) {
    gDebug() << student;
  }
}
```

***

**äº‹å®ä¸Šï¼Œæ ‡å‡†åº“ä¸­ç®—æ³•åº“`std::sort`ä¹Ÿæ˜¯åŒæ ·çš„æ“ä½œï¼š**

```cpp
bool compareAscending(int a, int b) {  
    return a < b;  // æ­£åºæ’åº  
}  
bool compareDescending(int a, int b) {  
    return a > b;  // å€’åºæ’åº  
}  
int main() {  
    std::vector<int> numbers = {5, 2, 8, 1, 9};  
    std::sort(numbers.begin(), numbers.end(), compareAscending);  
    std::sort(numbers.begin(), numbers.end(), compareDescending);  
    return 0;  
}  
```

å¦‚æœæ˜¯ç±»å‘¢ï¼Ÿæ€ä¹ˆå†™æ¯”è¾ƒå‡½æ•°ï¼Ÿï¼ˆå†™å®Œä¸Šé¢é‚£ä¸ªä½œä¸šè¿™ä¸ªåº”è¯¥ä¸ç®—éš¾ï¼‰

**å¯ä»¥å°è¯•æŠŠä½œä¸šæ”¹æˆæ ‡å‡†åº“çš„å½¢å¼ã€‚**



## `using`çš„æ€»ç»“

usingçš„å¸¸ç”¨ç”¨æ³•ï¼š

1. **ä½¿ç”¨usingæ›¿ä»£typedefï¼Œè¿›è¡Œç±»å‹æ›¿æ¢**

   ç¤ºä¾‹ï¼š

   ```cpp
   typedef mytype int;
   using mytype=int;
   ```

   ä½¿ç”¨usingå¯è¯»æ€§æ›´å¼ºï¼Œä¸è¿‡ä¸ºäº†å…¼å®¹è€çš„ä»£ç ï¼Œtypedefè¿˜æ˜¯ä¿ç•™äº†ä¸‹æ¥ï¼ˆç”šè‡³å¾ˆå¤šæ ‡å‡†åº“ä»ç„¶æ²¿ç”¨äº†typedefï¼‰

2. **ä½¿ç”¨usingå±•å¼€å‘½åç©ºé—´**

   ç¤ºä¾‹ï¼š

   ```cpp
   using namespace std;
   using std::cout,std::endl;
   ```

3. **usingä½¿ç”¨åœ¨æ¨¡æ¿ä¸Š**

   ```cpp
   template <typename T>
   using mymap = unorder_map<int, T>;
   ```

   æ¯”å¦‚ä½¿ç”¨åœ¨std::unorder_mapä¸Š

***

## `std::array`ä½¿ç”¨

**``std::array``** æ˜¯ C++ æ ‡å‡†åº“æä¾›çš„ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„å®¹å™¨ã€‚ä¸åŸå§‹çš„ C æ•°ç»„ç›¸æ¯”ï¼Œ**``std::array``** æä¾›äº†æ›´å¤šçš„åŠŸèƒ½å’Œå®‰å…¨æ€§ï¼Œå¹¶ä¸”å¯ä»¥åƒå…¶ä»–å®¹å™¨ä¸€æ ·æ–¹ä¾¿åœ°ä½¿ç”¨æ ‡å‡†åº“ç®—æ³•å’Œæ“ä½œã€‚

ä½¿ç”¨æ—¶éœ€è¦åŒ…å« **``<array>``** å¤´æ–‡ä»¶æ¥ä½¿ç”¨ **``std::array``**

**ä½¿ç”¨ç¤ºä¾‹ï¼š**

```cpp
#include <array>  
  
int main() {  
    std::array<int, 5> numbers;  // åˆ›å»ºä¸€ä¸ªåŒ…å« 5 ä¸ª int å…ƒç´ çš„ std::array  
    std::array<std::string, 3> names;  // åˆ›å»ºä¸€ä¸ªåŒ…å« 3 ä¸ª std::string å…ƒç´ çš„ std::array  
  
    return 0;  
}  
```

æ³¨æ„åŒºåˆ†arrayå’Œvectorçš„åˆ†åˆ«

äº‹å®ä¸Šï¼Œå¤§éƒ¨åˆ†vectorçš„å‡½æ•°åœ¨arrayä¸­ä¹Ÿæ˜¯ä¸€æ ·çš„

- æ¯”å¦‚size()æ˜¯è¿”å›å¤§å°
- æ¯”å¦‚`[]`è¿”å›ç´¢å¼•ï¼Œ`at()`æä¾›è¾¹ç•Œæ£€æŸ¥ï¼ˆè¶…å‡ºèŒƒå›´æŠ¥é”™ï¼‰

ğŸ’¡ç”±äºarrayçš„å¤§å°æ˜¯éœ€è¦ç»™å®šçš„ï¼Œæ‰€ä»¥**ç†æ‰€å½“ç„¶æ˜¯æ²¡æœ‰åˆ é™¤å¢åŠ å¯¹åº”çš„api**

æ‰€ä»¥æˆ‘ä»¬æ›´æ¨èæ˜¯ä½¿ç”¨`std::array`æ›¿ä»£ä¼ ç»Ÿçš„æ•°ç»„





***



```cpp
#include <iostream>
#include <string>
#include <unordered_map>
#include <algorithm>

#include "debugstream.hpp"

using namespace std;

#include <vector>

struct Student {
  std::string name = "";
  int age = 0;
  int score = 60;
  friend std::ostream& operator<<(std::ostream& os,Student student) {
    gDebug() << student.name << ":" << student.age << ":" << student.score;
    return os;
  }
};

int SortAge(Student student) {
  return student.age;
}
int SortScore(Student student) {
  return student.score;
}
std::string SortName(Student student) {
  return student.name;
}

template <typename T>
void BubbleSort(std::vector<T>& vals,bool(*f)(T,T)) {
  int i, j;
  int lens = vals.size();
  for (i = 0; i < lens - 1; i++)
    for (j = 0; j < lens - 1 - i; j++)
      // if (vals[j] > vals[j + 1]) std::swap(vals[j], vals[j + 1]);
      // if (f(vals[j]) > f(vals[j + 1])) std::swap(vals[j], vals[j + 1]);
      if (f(vals[j],vals[j + 1])) std::swap(vals[j], vals[j + 1]);
}

bool Compare(Student stu1,Student stu2) {
  return stu1.age>stu2.age;
}

bool Campare(int a,int b) {
  return a<b;
}

int main() {
  std::vector<Student> students;
  students.push_back(Student{"zhangsan",17,60});
  students.push_back(Student{"lisi",18,90});
  students.push_back(Student{"wangwu",19,80});
  // BubbleSort(students,SortName);
  BubbleSort(students,Compare);
  gDebug(students);

  std::vector<int> aa{123,124,4,23,12,5412,231};
  std::sort(aa.begin(),aa.end(),Campare);
  gDebug(aa);
}
```

